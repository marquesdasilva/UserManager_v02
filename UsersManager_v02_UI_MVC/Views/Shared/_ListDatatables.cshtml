@model UsersManager_v02_DAL.Entities.User

@{
    ViewBag.Title = "List Datatables";
}

@section styles {
    @Styles.Render("~/bundles/datatablescss")
}

<h2>List Datatables</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table width="100%"  class="table table-striped table-bordered" id="myDataTable"  cellspacing="0" >
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Username)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EmailAdress)
            </th>
            <th>

            </th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

@section scripts {
    @Scripts.Render("~/bundles/datatables")
    @*<script type="text/javascript" src="@Url.Content("~/Javascript/User/ListDatatables.js")"></script>*@

    <script>
        var obj = {
            initDatatable: function (url) {
                alert('hello world');

                $('#myDataTable').dataTable({
                    "order": [[ 0, "asc" ]],
                    "bServerSide": true,
                    "sAjaxSource": "User/AjaxHandler",
                    "bProcessing": true,
                    "aoColumns": [
                                    //{
                                    //    "sName": "ID",
                                    //    "bSearchable": false,
                                    //    "bSortable": false,
                                    //    "fnRender": function (oObj) {
                                    //        return '<a href=\"Details/' +
                                    //        oObj.aData[0] + '\">View</a>';
                                    //    }
                                    //},
                                    { "sName": "NAME" },
                                    { "sName": "USERNAME" },
                                    { "sName": "EMAIL" },
                                    //{ "sName": "ISACTIVE" }
                    ]
                });
            }
        }

        obj.initDatatable("/AjaxHandler");
    </script>
}
